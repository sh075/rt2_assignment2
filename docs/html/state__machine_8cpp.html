<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rt2_assignment2: /root/test2/src/rt2_assignment2/src/state_machine.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rt2_assignment2
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">for rt2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">state_machine.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file implement a state machine that start and stops a go to point goal.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ros/ros.h&quot;</code><br />
<code>#include &quot;rt2_assignment2/Command.h&quot;</code><br />
<code>#include &quot;rt2_assignment2/Position.h&quot;</code><br />
<code>#include &quot;rt2_assignment2/RandomPosition.h&quot;</code><br />
<code>#include &lt;actionlib/client/simple_action_client.h&gt;</code><br />
<code>#include &lt;actionlib/client/terminal_state.h&gt;</code><br />
<code>#include &lt;rt2_assignment2/PositionAction.h&gt;</code><br />
<code>#include &quot;std_msgs/Bool.h&quot;</code><br />
<code>#include &quot;std_msgs/Float32.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for state_machine.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="state__machine_8cpp__incl.png" border="0" usemap="#_2root_2test2_2src_2rt2__assignment2_2src_2state__machine_8cpp" alt=""/></div>
<map name="_2root_2test2_2src_2rt2__assignment2_2src_2state__machine_8cpp" id="_2root_2test2_2src_2rt2__assignment2_2src_2state__machine_8cpp">
<area shape="rect" title="This file implement a state machine that start and stops a go to point goal." alt="" coords="845,5,1018,61"/>
<area shape="rect" title=" " alt="" coords="5,117,84,143"/>
<area shape="rect" title=" " alt="" coords="108,117,323,143"/>
<area shape="rect" title=" " alt="" coords="347,117,545,143"/>
<area shape="rect" title=" " alt="" coords="570,117,823,143"/>
<area shape="rect" title=" " alt="" coords="848,109,1015,151"/>
<area shape="rect" title=" " alt="" coords="1039,109,1216,151"/>
<area shape="rect" title=" " alt="" coords="1241,109,1427,151"/>
<area shape="rect" title=" " alt="" coords="1452,117,1581,143"/>
<area shape="rect" title=" " alt="" coords="1606,117,1755,143"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2c80ed729eddcc1097aa64015d817484"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8cpp.html#a2c80ed729eddcc1097aa64015d817484">user_interface</a> (rt2_assignment2::Command::Request &amp;req, rt2_assignment2::Command::Response &amp;res)</td></tr>
<tr class="memdesc:a2c80ed729eddcc1097aa64015d817484"><td class="mdescLeft">&#160;</td><td class="mdescRight">callback function for handling the request sent from the user interface  <a href="state__machine_8cpp.html#a2c80ed729eddcc1097aa64015d817484">More...</a><br /></td></tr>
<tr class="separator:a2c80ed729eddcc1097aa64015d817484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">main function  <a href="state__machine_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab376b87f96a574a793c03c53e75afec8"><td class="memItemLeft" align="right" valign="top"><a id="ab376b87f96a574a793c03c53e75afec8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8cpp.html#ab376b87f96a574a793c03c53e75afec8">start</a> = false</td></tr>
<tr class="memdesc:ab376b87f96a574a793c03c53e75afec8"><td class="mdescLeft">&#160;</td><td class="mdescRight">For setting the value of the request from the user interface. <br /></td></tr>
<tr class="separator:ab376b87f96a574a793c03c53e75afec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b41b5ac885385d5a2f18273038644e9"><td class="memItemLeft" align="right" valign="top"><a id="a7b41b5ac885385d5a2f18273038644e9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>not_moving</b> = true</td></tr>
<tr class="separator:a7b41b5ac885385d5a2f18273038644e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e7b2b403f58b3a7ebedb4501612fae7"><td class="memItemLeft" align="right" valign="top"><a id="a4e7b2b403f58b3a7ebedb4501612fae7"></a>
std_msgs::Bool&#160;</td><td class="memItemRight" valign="bottom"><b>reached</b></td></tr>
<tr class="separator:a4e7b2b403f58b3a7ebedb4501612fae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file implement a state machine that start and stops a go to point goal. </p>
<dl class="section author"><dt>Author</dt><dd>Shahrzad Eskandari Majdar </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>11/02/2022</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start</td><td>boolean to know if to start of stop the go to point action</td></tr>
  </table>
  </dd>
</dl>
<p>Services : <br  />
 ° /user_interface ° /position_server</p>
<p>Action : <br  />
 /go_to_point</p>
<p>Action Client: <br  />
 /go_to_point</p>
<p>Description :</p>
<p>This node is a server for the user interface, it receives what the user writes, and it start depending on it. If the client ask for the random position behaviour it calls the server '/random_position' and it waits for it to be finished Also checks if the client requests the behaviour to stop. In that case, it cancels the previous goal and waits for the next command.while, it also sends information to the user_interface node. It publishes a topic when a goal has been reached (T) or cancelled (F).whenevera goal is reached, it publishes on the topic '/time' the time in seconds between the request of the goal and the completion of it. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>main function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td></td></tr>
    <tr><td class="paramname">argv</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>always 0</dd></dl>
<p>The main funtion initializes the node, service and action client object and waits to receive a request to the initialized service. <br  />
 </p>

</div>
</div>
<a id="a2c80ed729eddcc1097aa64015d817484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c80ed729eddcc1097aa64015d817484">&#9670;&nbsp;</a></span>user_interface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool user_interface </td>
          <td>(</td>
          <td class="paramtype">rt2_assignment2::Command::Request &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rt2_assignment2::Command::Response &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>callback function for handling the request sent from the user interface </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>the request sent from the client </td></tr>
    <tr><td class="paramname">res</td><td>the response to be sent from the server to the client </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>always true as this function cannot fail.</dd></dl>
<p>This function receives the request sent from the user interface client and set the value the start global variable. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
